# 软件研发类必要条款模板（最少打扰版）

面向“选择类型 → 轻量对话 → 自动生成结构化产出”的零/低配置体验。本模板提供默认值与明确的[需要确认]项，并内置业务流程建议与域模型映射，生成可直接用于签署的“条款确认书”。

## 1. 基本信息
- 项目名称：[需要确认]（默认：从文档/对话自动识别，未识别则“未命名项目”）
- 版本：默认 `v1.0.0`（发布时自动推进）
- 干系人与角色：默认：`产品、研发、测试、运营`（按实际识别扩展）[需要确认]
- 沟通与决策机制：默认：`每周例会 + 里程碑评审` [需要确认]

## 2. 范围与规模
- 模块/子系统：默认：系统自动推断；未识别则 `1–3` 个 [需要确认]
- 接口/API 数量：默认：根据功能草案推断；未识别则 `≤10` [需要确认]
- 客户端/端数：默认：`Web`；如识别到 `iOS/Android/小程序` 自动加入 [需要确认]
- 支持平台/环境：默认：`Linux 云主机 / 容器化`；数据库默认：`PostgreSQL` [需要确认]

## 3. 场景与目标
- 核心用户场景：自动从需求文本抽取 3–5 条；低置信度标注 [需要确认]
- 业务目标与成功标准：自动重述与量化草案；`转化率/留存/时效` 建议 [需要确认]

## 4. 核心功能列表
- 功能清单：自动生成分组（`基础/高级/可选`）；至少确认 Top 3 [需要确认]
- 依赖与约束：自动识别跨服务/外部系统依赖；敏感外呼需授权 [需要确认]

## 5. 验收标准（AC）
- 结构：`Given/When/Then`；每个核心功能自动生成 2–3 条 AC 建议 [需要确认]
- 验收口径：默认：`测试通过 + 业务指标达成 + 无高危缺陷` [需要确认]

## 6. 非功能指标（NFR）
- 性能：默认：`API P95 响应 < 500ms`；批处理：`1k 记录 < 2min` [需要确认]
- 可靠性：默认：`月度可用性 ≥ 99.9%` [需要确认]
- 安全：默认：`OWASP Top 10 基线 + 访问控制最小化` [需要确认]
- 合规：默认：`禁止外发敏感数据；第三方调用需显式授权` [需要确认]

## 7. 时间线与里程碑
- 迭代节奏：默认：`1–2 周/迭代` [需要确认]
- 里程碑：`需求确认 → 设计 → 开发 → 联调 → 验收 → 发布`（自动生成日期草案）[需要确认]

## 8. 费用与预算
- 单次预算阈值：默认：`≤ ¥50`（敏感模型/外呼前必须确认）[需要确认]
- 累计预算阈值：默认：`≤ ¥1000`（超限触发降级或暂停）[需要确认]
- 计费与提供商顺序：默认：`成本优先 → 时延次之` [需要确认]

## 9. 数据与合规
- 数据分类与处理：默认：`内部使用；必要脱敏；日志留存 90 天` [需要确认]
- 外部访问与第三方：默认：`禁止，除非获得显式授权` [需要确认]

## 10. 交付物清单
- 默认交付：`PRD、User Stories、NFR、测试报告、源代码、部署与运维文档` [需要确认]

## 11. 知识产权与许可
- 默认：`源码与文档归属客户；内置依赖遵循原许可；署名与商标按实际约定` [需要确认]

## 12. 变更与迭代
- 默认：`每迭代评审；冻结窗口 24–48 小时；紧急变更需复核与记录` [需要确认]

## 13. SLA 与支持
- 默认：`工作日 24h 响应；重大故障 2h 内升级；周末值班按约定` [需要确认]

---

## 业务流程建议（BPMN-lite）
1) 需求提出 → 自动解析与预填 → 一页式总览确认（仅必要与敏感项）
2) 结构化生成 → 合同校验（必填/冲突/置信度）→ 输出 `prd.json / stories.json / nfr.json / acceptance.json`
3) 开发实现 → 联调 → 自测与回归 → 自动验收（AC 与 NFR 校验）
4) 总确认 → 发布（版本、变更记录、交付包）→ 进入工作流平台编排

触发式询问：仅在“必填缺失/冲突、置信度 < 0.7、超预算、涉及外部或敏感数据”时提问。

---

## 域模型映射（与仓库对齐）
- `config/domain_schema/prd.json`：范围、场景、目标、功能、交付物
- `config/domain_schema/stories.json`：用户故事与 AC
- `config/domain_schema/nfr.json`：非功能指标（性能/可靠性/安全/合规）
- `config/domain_schema/acceptance.json`：验收规则与度量
- `config/domain_schema/risks.json`：风险清单（描述/影响/缓解）
- `config/domain_schema/dependencies.json`：依赖（内部/外部/第三方）

---

## 示例：条款确认书（草案）

项目名称：示例项目 Alpha [需要确认]
版本：v1.0.0
干系人与角色：产品、研发、测试、运营 [需要确认]

范围与规模：
- 模块：用户管理、订单、支付（自动识别） [需要确认]
- API：≤10（草案） [需要确认]
- 端数：Web（如需 App/小程序请勾选） [需要确认]

场景与目标：
- 核心场景：注册登录、下单支付、订单查询（自动抽取） [需要确认]
- 成功标准：下单转化率≥3%、支付成功率≥98%（建议） [需要确认]

功能列表（节选）：
- 注册登录（邮箱/手机 + 二次验证）
- 下单流程（购物车 → 结算 → 支付）
- 订单详情与售后（退款/退货）

验收标准（示例 AC）：
- Given 用户已登录，When 提交有效订单，Then 返回成功并生成订单号
- Given 余额不足，When 发起支付，Then 返回失败并提示充值

非功能指标：
- API P95 < 500ms；月可用性 ≥ 99.9%；访问控制最小化；禁止外发敏感数据 [需要确认]

时间线与里程碑：
- 需求确认 → 设计 → 开发 → 联调 → 验收 → 发布（自动日期草案） [需要确认]

费用与预算：
- 单次 ≤ ¥50；累计 ≤ ¥1000；成本优先路由 [需要确认]

数据与合规：
- 内部使用；必要脱敏；第三方需授权 [需要确认]

交付物与 IP：
- 交付 PRD/Stories/NFR/测试报告/源码/部署文档；源码归属客户 [需要确认]

变更与 SLA：
- 每迭代评审；冻结窗口 24–48 小时；工作日 24h 响应 [需要确认]

签署：
- 确认人（甲方）：____________ 日期：____________
- 确认人（乙方/Agent）：____________ 日期：____________

